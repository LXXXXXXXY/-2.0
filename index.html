<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>å°é—®å€™</title>
</head>
<body>
  <h2>ä½ å¥½ ğŸ‘‹</h2>
  <button id="btn">å¼€å¯é€šçŸ¥</button>

  <script>
    document.getElementById('btn').onclick = async () => {
      console.log('æŒ‰é’®è¢«ç‚¹å‡»');

      if (!('Notification' in window)) {
        alert('æµè§ˆå™¨ä¸æ”¯æŒé€šçŸ¥');
        return;
      }

      const permission = await Notification.requestPermission();
      console.log('æƒé™ç»“æœ:', permission);

      if (permission === 'granted') {
        await navigator.serviceWorker.register('sw.js');
        alert('é€šçŸ¥å·²å¼€å¯ âœ…');
      } else {
        alert('é€šçŸ¥è¢«æ‹’ç» âŒ');
      }
    };
  </script>
</body>
</html>
